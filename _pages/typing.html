---
layout: default
permalink: /typing/
title: "Typing Practice"
---

<style>
.typing-container {
    max-width: 100%;
    margin: 0;
    padding: 0;
}

.typing-app {
    background: white;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    margin-bottom: 20px;
}

.typing-title {
    text-align: center;
    color: #333;
    margin-bottom: 25px;
    font-size: 2rem;
}

.reference-input {
    width: 100%;
    height: 60px;
    padding: 12px;
    border: 2px solid #007bff;
    border-radius: 10px;
    font-size: 16px;
    margin-bottom: 15px;
    font-family: inherit;
    resize: vertical;
}

.reference-input:focus {
    outline: none;
    border-color: #0056b3;
    box-shadow: 0 0 10px rgba(0,123,255,0.25);
}

.reference-display {
    background: #f8f9fa;
    border: 2px solid #e9ecef;
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
    overflow-x: auto;
    white-space: nowrap;
    font-family: 'Courier New', monospace;
    font-size: 18px;
    line-height: 1.5;
    scroll-behavior: smooth;
    outline: none;
    cursor: text;
    min-height: 100px;
    display: flex;
    align-items: center;
}

.reference-display:focus {
    border-color: #007bff;
    background: #ffffff;
}

.correct { 
    background-color: #d4edda; 
    color: #155724; 
    padding: 2px 1px;
    border-radius: 3px;
}

.incorrect { 
    background-color: #f8d7da; 
    color: #721c24; 
    padding: 2px 1px;
    border-radius: 3px;
}

.pending { 
    color: #6c757d; 
    opacity: 0.7;
}

.current {
    background-color: #fff3cd;
    color: #856404;
    padding: 2px 1px;
    border-radius: 3px;
    animation: blink 1s infinite;
}

@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0.3; }
}

.stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
}

.stat-box {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.stat-value {
    font-size: 20px;
    font-weight: bold;
    display: block;
}

.stat-label {
    font-size: 11px;
    opacity: 0.9;
    margin-top: 5px;
}

.progress-bar {
    background-color: #e9ecef;
    border-radius: 10px;
    height: 20px;
    margin: 20px 0;
    overflow: hidden;
}

.progress-fill {
    background: linear-gradient(90deg, #28a745, #20c997);
    height: 100%;
    border-radius: 10px;
    transition: width 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 12px;
    font-weight: bold;
}

.reset-btn {
    background: linear-gradient(135deg, #ff6b6b, #ee5a52);
    color: white;
    border: none;
    padding: 12px 30px;
    border-radius: 25px;
    font-size: 16px;
    cursor: pointer;
    transition: transform 0.2s;
    box-shadow: 0 4px 15px rgba(255,107,107,0.3);
    display: block;
    margin: 0 auto;
}

.reset-btn:hover {
    transform: translateY(-2px);
}

.completion-message {
    background: linear-gradient(135deg, #28a745, #20c997);
    color: white;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    margin: 20px 0;
    font-size: 18px;
    animation: celebration 0.5s ease-in-out;
}

@keyframes celebration {
    0% { transform: scale(0.8); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

.placeholder-text {
    color: #6c757d;
    font-size: 16px;
    text-align: center;
    font-style: italic;
}

@media (max-width: 768px) {
    .typing-app {
        padding: 15px;
    }
    
    .typing-title {
        font-size: 1.5rem;
    }
    
    .reference-display {
        font-size: 16px;
        padding: 15px;
    }
    
    .stats {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }
}
</style>

<div class="typing-container">
    <div class="typing-app">
        <h1 class="typing-title">üöÄ Real-time Typing Practice</h1>
        
        <textarea 
            id="reference-input" 
            class="reference-input"
            placeholder="Enter your reference text here... Start typing to begin practice!"
        ></textarea>
        
        <div id="reference-display" class="reference-display" tabindex="0">
            <div class="placeholder-text">
                ‚ú® Enter some text above and click here to start typing practice!
            </div>
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <span id="time-stat" class="stat-value">0.0</span>
                <div class="stat-label">‚è± TIME (sec)</div>
            </div>
            <div class="stat-box">
                <span id="accuracy-stat" class="stat-value">100</span>
                <div class="stat-label">‚úÖ ACCURACY (%)</div>
            </div>
            <div class="stat-box">
                <span id="wpm-stat" class="stat-value">0</span>
                <div class="stat-label">‚å®Ô∏è WPM</div>
            </div>
            <div class="stat-box">
                <span id="progress-stat" class="stat-value">0/0</span>
                <div class="stat-label">üìä PROGRESS</div>
            </div>
        </div>
        
        <div class="progress-bar">
            <div id="progress-fill" class="progress-fill" style="width: 0%">0%</div>
        </div>
        
        <div id="completion-message" class="completion-message" style="display: none;"></div>
        
        <button class="reset-btn" onclick="resetPractice()">üîÑ Reset Practice</button>
    </div>
</div>

<script>
let referenceText = "";
let startTime = null;
let typedText = "";

const referenceInput = document.getElementById('reference-input');
const referenceDisplay = document.getElementById('reference-display');
const timeSpan = document.getElementById('time-stat');
const accuracySpan = document.getElementById('accuracy-stat');
const wpmSpan = document.getElementById('wpm-stat');
const progressSpan = document.getElementById('progress-stat');
const progressFill = document.getElementById('progress-fill');
const completionMessage = document.getElementById('completion-message');

// Handle reference text input
referenceInput.addEventListener('input', function(e) {
    referenceText = e.target.value.replace(/\n/g, ' ').trim();
    resetPractice();
});

// Handle typing directly on reference display
referenceDisplay.addEventListener('keydown', function(e) {
    if (!referenceText) return;
    
    // Prevent default for most keys except special ones
    if (!e.ctrlKey && !e.altKey && !e.metaKey && e.key.length === 1) {
        e.preventDefault();
        
        // Add the typed character
        typedText += e.key;
        
        // Start timer on first character
        if (typedText.length === 1 && startTime === null) {
            startTime = Date.now();
        }
        
        updateDisplay();
    } else if (e.key === 'Backspace') {
        e.preventDefault();
        typedText = typedText.slice(0, -1);
        updateDisplay();
    }
});

// Focus on click
referenceDisplay.addEventListener('click', function() {
    referenceDisplay.focus();
});

// Initialize display
updateDisplay();

function updateDisplay() {
    if (!referenceText) {
        referenceDisplay.innerHTML = '<div class="placeholder-text">‚ú® Enter some text above and click here to start typing practice!</div>';
        return;
    }
    
    // Update reference text with colors
    let coloredText = '';
    let correctChars = 0;
    
    for (let i = 0; i < referenceText.length; i++) {
        const refChar = referenceText[i];
        
        if (i < typedText.length) {
            if (typedText[i] === refChar) {
                coloredText += `<span class="correct">${refChar === ' ' ? '&nbsp;' : refChar}</span>`;
                correctChars++;
            } else {
                coloredText += `<span class="incorrect">${refChar === ' ' ? '&nbsp;' : refChar}</span>`;
            }
        } else if (i === typedText.length) {
            // Current character to type
            coloredText += `<span class="current">${refChar === ' ' ? '&nbsp;' : refChar}</span>`;
        } else {
            coloredText += `<span class="pending">${refChar === ' ' ? '&nbsp;' : refChar}</span>`;
        }
    }
    
    referenceDisplay.innerHTML = coloredText;
    
    // Auto-scroll to current position
    const currentSpan = referenceDisplay.querySelector('.current');
    if (currentSpan && referenceText.length > 0) {
        const containerWidth = referenceDisplay.clientWidth;
        const spanLeft = currentSpan.offsetLeft;
        
        // Only scroll when current position is getting close to right edge
        const scrollThreshold = containerWidth * 0.7;
        const currentScrollLeft = referenceDisplay.scrollLeft;
        const relativePosition = spanLeft - currentScrollLeft;
        
        if (relativePosition > scrollThreshold) {
            referenceDisplay.scrollLeft = currentScrollLeft + (containerWidth * 0.3);
        }
    }
    
    // Calculate stats
    if (startTime && typedText.length > 0) {
        const elapsedTime = (Date.now() - startTime) / 1000;
        
        // Calculate accuracy based only on characters typed so far
        const accuracy = typedText.length > 0 ? (correctChars / typedText.length) * 100 : 100;
        
        const wordsTyped = correctChars / 5; // Standard: 5 characters = 1 word
        const wpm = elapsedTime > 0 ? (wordsTyped / elapsedTime) * 60 : 0;
        const progress = Math.min(typedText.length / referenceText.length, 1) * 100;
        
        // Update display
        timeSpan.textContent = elapsedTime.toFixed(1);
        accuracySpan.textContent = accuracy.toFixed(1);
        wpmSpan.textContent = wpm.toFixed(0);
        progressSpan.textContent = `${typedText.length}/${referenceText.length}`;
        progressFill.style.width = progress + '%';
        progressFill.textContent = progress.toFixed(1) + '%';
        
        // Check completion
        if (typedText.length >= referenceText.length) {
            if (accuracy === 100) {
                completionMessage.innerHTML = 'üéâ Perfect! You completed with 100% accuracy!';
                completionMessage.style.background = 'linear-gradient(135deg, #28a745, #20c997)';
            } else {
                completionMessage.innerHTML = `‚úÖ Completed! Final accuracy: ${accuracy.toFixed(1)}%`;
                completionMessage.style.background = 'linear-gradient(135deg, #17a2b8, #138496)';
            }
            completionMessage.style.display = 'block';
        } else {
            completionMessage.style.display = 'none';
        }
    } else {
        // Reset stats
        timeSpan.textContent = '0.0';
        accuracySpan.textContent = '100';
        wpmSpan.textContent = '0';
        progressSpan.textContent = `0/${referenceText.length}`;
        progressFill.style.width = '0%';
        progressFill.textContent = '0%';
    }
}

function resetPractice() {
    startTime = null;
    typedText = '';
    referenceDisplay.scrollLeft = 0;
    completionMessage.style.display = 'none';
    updateDisplay();
    setTimeout(() => referenceDisplay.focus(), 100);
}

// Auto-focus on load
window.addEventListener('load', () => {
    referenceInput.focus();
});

// Handle window resize
window.addEventListener('resize', function() {
    setTimeout(() => {
        updateDisplay();
    }, 100);
});

// Update stats every 100ms for smooth real-time display
setInterval(() => {
    if (startTime && typedText.length > 0 && typedText.length < referenceText.length) {
        updateDisplay();
    }
}, 100);

// Add keyboard shortcuts
document.addEventListener('keydown', function(e) {
    if (e.ctrlKey && e.key === 'r') {
        e.preventDefault();
        resetPractice();
    }
});
</script>